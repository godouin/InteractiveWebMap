<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="initial-scale=1,user-scalable=no,maximum-scale=1,width=device-width">
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <link rel="stylesheet" href="css/leaflet.css">
        <link rel="stylesheet" href="css/qgis2web.css"><link rel="stylesheet" href="css/fontawesome-all.min.css">
        <link rel="stylesheet" href="css/filter.css">
<link rel="stylesheet" href="css/nouislider.min.css">
        <link rel="stylesheet" href="css/leaflet-measure.css">
        <style>
        html, body, #map {
            width: 100%;
            height: 100%;
            padding: 0;
            margin: 0;
        }
        </style>
        <title></title>
    </head>
    <body>
        <div id="map">
        </div>
        <script src="js/qgis2web_expressions.js"></script>
        <script src="js/leaflet.js"></script>
        <script src="js/multi-style-layer.js"></script>
        <script src="js/leaflet-svg-shape-markers.min.js"></script>
        <script src="js/leaflet.rotatedMarker.js"></script>
        <script src="js/leaflet.pattern.js"></script>
        <script src="js/leaflet-hash.js"></script>
        <script src="js/Autolinker.min.js"></script>
        <script src="js/rbush.min.js"></script>
        <script src="js/labelgun.min.js"></script>
        <script src="js/labels.js"></script>
        <script src="js/leaflet-measure.js"></script>
        <script src="js/tailDT.js"></script>
<script src="js/nouislider.min.js"></script>
<script src="js/wNumb.js"></script>
        <script src="data/TabangBorder_2.js"></script>
        <script src="data/BarangayHealthUnit_3.js"></script>
        <script src="data/RiskLevelbyGeographicalLocation_4.js"></script>
        <script src="data/TotalRiskLevel_5.js"></script>
        <script>
        var map = L.map('map', {
            zoomControl:true, maxZoom:20, minZoom:1
        }).fitBounds([[17.80741747081096,121.5466408205673],[17.81911088953728,121.56147899060163]]);
        var hash = new L.Hash(map);
        map.attributionControl.setPrefix('<a href="https://github.com/tomchadwin/qgis2web" target="_blank">qgis2web</a> &middot; <a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a> &middot; <a href="https://qgis.org">QGIS</a>');
        var autolinker = new Autolinker({truncate: {length: 30, location: 'smart'}});
        var measureControl = new L.Control.Measure({
            position: 'topleft',
            primaryLengthUnit: 'meters',
            secondaryLengthUnit: 'kilometers',
            primaryAreaUnit: 'sqmeters',
            secondaryAreaUnit: 'hectares'
        });
        measureControl.addTo(map);
        document.getElementsByClassName('leaflet-control-measure-toggle')[0]
        .innerHTML = '';
        document.getElementsByClassName('leaflet-control-measure-toggle')[0]
        .className += ' fas fa-ruler';
        var bounds_group = new L.featureGroup([]);
        function setBounds() {
        }
        map.createPane('pane_OpenStreetMap_0');
        map.getPane('pane_OpenStreetMap_0').style.zIndex = 400;
        var layer_OpenStreetMap_0 = L.tileLayer('http://tile.openstreetmap.org/{z}/{x}/{y}.png', {
            pane: 'pane_OpenStreetMap_0',
            opacity: 1.0,
            attribution: '',
            minZoom: 1,
            maxZoom: 20,
            minNativeZoom: 0,
            maxNativeZoom: 18
        });
        layer_OpenStreetMap_0;
        map.addLayer(layer_OpenStreetMap_0);
        map.createPane('pane_TabangArea_1');
        map.getPane('pane_TabangArea_1').style.zIndex = 401;
        var img_TabangArea_1 = 'data/TabangArea_1.png';
        var img_bounds_TabangArea_1 = [[17.804233333910815,121.54650516257638],[17.82316225779405,121.56659549432406]];
        var layer_TabangArea_1 = new L.imageOverlay(img_TabangArea_1,
                                              img_bounds_TabangArea_1,
                                              {pane: 'pane_TabangArea_1'});
        bounds_group.addLayer(layer_TabangArea_1);
        map.addLayer(layer_TabangArea_1);
        function pop_TabangBorder_2(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['id'] !== null ? autolinker.link(feature.properties['id'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            layer.bindPopup(popupContent, {maxHeight: 400});
        }

        function style_TabangBorder_2_0() {
            return {
                pane: 'pane_TabangBorder_2',
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1, 
                fillOpacity: 0,
                interactive: false,
            }
        }
        map.createPane('pane_TabangBorder_2');
        map.getPane('pane_TabangBorder_2').style.zIndex = 402;
        map.getPane('pane_TabangBorder_2').style['mix-blend-mode'] = 'normal';
        var layer_TabangBorder_2 = new L.geoJson(json_TabangBorder_2, {
            attribution: '',
            interactive: false,
            dataVar: 'json_TabangBorder_2',
            layerName: 'layer_TabangBorder_2',
            pane: 'pane_TabangBorder_2',
            onEachFeature: pop_TabangBorder_2,
            style: style_TabangBorder_2_0,
        });
        bounds_group.addLayer(layer_TabangBorder_2);
        map.addLayer(layer_TabangBorder_2);
        function pop_BarangayHealthUnit_3(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['id'] !== null ? autolinker.link(feature.properties['id'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            layer.bindPopup(popupContent, {maxHeight: 400});
        }

        function style_BarangayHealthUnit_3_0() {
            return {
                pane: 'pane_BarangayHealthUnit_3',
                radius: 5.6,
                opacity: 1,
                color: 'rgba(227,26,28,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 2.0,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,255,255,1.0)',
                interactive: false,
            }
        }
        function style_BarangayHealthUnit_3_1() {
            return {
                pane: 'pane_BarangayHealthUnit_3',
                radius: 3.23076,
                opacity: 1,
                color: 'rgba(227,26,28,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(227,26,28,1.0)',
                interactive: false,
            }
        }
        map.createPane('pane_BarangayHealthUnit_3');
        map.getPane('pane_BarangayHealthUnit_3').style.zIndex = 403;
        map.getPane('pane_BarangayHealthUnit_3').style['mix-blend-mode'] = 'normal';
        var layer_BarangayHealthUnit_3 = new L.geoJson.multiStyle(json_BarangayHealthUnit_3, {
            attribution: '',
            interactive: false,
            dataVar: 'json_BarangayHealthUnit_3',
            layerName: 'layer_BarangayHealthUnit_3',
            pane: 'pane_BarangayHealthUnit_3',
            onEachFeature: pop_BarangayHealthUnit_3,
            pointToLayers: [function (feature, latlng) {
                var context = {
                    feature: feature,
                    variables: {}
                };
                return L.shapeMarker(latlng, style_BarangayHealthUnit_3_0(feature));
            },function (feature, latlng) {
                var context = {
                    feature: feature,
                    variables: {}
                };
                return L.shapeMarker(latlng, style_BarangayHealthUnit_3_1(feature));
            },
        ]});
        bounds_group.addLayer(layer_BarangayHealthUnit_3);
        map.addLayer(layer_BarangayHealthUnit_3);
        function pop_RiskLevelbyGeographicalLocation_4(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2"><strong>Distance to nearest healthcare providers (meters)</strong><br />' + (feature.properties['Distance'] !== null ? autolinker.link(feature.properties['Distance'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            layer.bindPopup(popupContent, {maxHeight: 400});
        }

        function style_RiskLevelbyGeographicalLocation_4_0(feature) {
            if (feature.properties['Distance'] >= 23.026098 && feature.properties['Distance'] <= 346.629905 ) {
                return {
                pane: 'pane_RiskLevelbyGeographicalLocation_4',
                radius: 4.0,
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,255,178,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['Distance'] >= 346.629905 && feature.properties['Distance'] <= 670.233712 ) {
                return {
                pane: 'pane_RiskLevelbyGeographicalLocation_4',
                radius: 4.0,
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(253,141,60,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['Distance'] >= 670.233712 && feature.properties['Distance'] <= 993.837520 ) {
                return {
                pane: 'pane_RiskLevelbyGeographicalLocation_4',
                radius: 4.0,
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(189,0,38,1.0)',
                interactive: true,
            }
            }
        }
        map.createPane('pane_RiskLevelbyGeographicalLocation_4');
        map.getPane('pane_RiskLevelbyGeographicalLocation_4').style.zIndex = 404;
        map.getPane('pane_RiskLevelbyGeographicalLocation_4').style['mix-blend-mode'] = 'normal';
        var layer_RiskLevelbyGeographicalLocation_4 = new L.geoJson(json_RiskLevelbyGeographicalLocation_4, {
            attribution: '',
            interactive: true,
            dataVar: 'json_RiskLevelbyGeographicalLocation_4',
            layerName: 'layer_RiskLevelbyGeographicalLocation_4',
            pane: 'pane_RiskLevelbyGeographicalLocation_4',
            onEachFeature: pop_RiskLevelbyGeographicalLocation_4,
            pointToLayer: function (feature, latlng) {
                var context = {
                    feature: feature,
                    variables: {}
                };
                return L.circleMarker(latlng, style_RiskLevelbyGeographicalLocation_4_0(feature));
            },
        });
        bounds_group.addLayer(layer_RiskLevelbyGeographicalLocation_4);
        map.addLayer(layer_RiskLevelbyGeographicalLocation_4);
        function pop_TotalRiskLevel_5(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2"><strong>Sex</strong><br />' + (feature.properties['Sex'] !== null ? autolinker.link(feature.properties['Sex'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2"><strong>Age</strong><br />' + (feature.properties['Age'] !== null ? autolinker.link(feature.properties['Age'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2"><strong>Family History</strong><br />' + (feature.properties['Family History'] !== null ? autolinker.link(feature.properties['Family History'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2"><strong>Physical Activity per week</strong><br />' + (feature.properties['Physical Activity per week'] !== null ? autolinker.link(feature.properties['Physical Activity per week'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2"><strong>Considers diet as healthy</strong><br />' + (feature.properties['Considers diet as healthy'] !== null ? autolinker.link(feature.properties['Considers diet as healthy'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2"><strong>Unhealthy food consumption per day</strong><br />' + (feature.properties['Unhealthy food consumption per day'] !== null ? autolinker.link(feature.properties['Unhealthy food consumption per day'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2"><strong>Includes fruits and vegetables in regular diet</strong><br />' + (feature.properties['Includes fruits and vegetables in regular diet'] !== null ? autolinker.link(feature.properties['Includes fruits and vegetables in regular diet'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2"><strong>Smokes Cigarettes</strong><br />' + (feature.properties['Smokes Cigarettes'] !== null ? autolinker.link(feature.properties['Smokes Cigarettes'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2"><strong>Drinks alcohol</strong><br />' + (feature.properties['Drinks alcohol'] !== null ? autolinker.link(feature.properties['Drinks alcohol'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2"><strong>CVD Associated Symptoms</strong><br />' + (feature.properties['CVD Associated Symptoms'] !== null ? autolinker.link(feature.properties['CVD Associated Symptoms'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2"><strong>CVD-Comorbid Associated Symptoms</strong><br />' + (feature.properties['CVD-Comorbid Associated Symptoms'] !== null ? autolinker.link(feature.properties['CVD-Comorbid Associated Symptoms'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2"><strong>Number of CVD-associated Symptoms</strong><br />' + (feature.properties['Number of CVD-associated Symptoms'] !== null ? autolinker.link(feature.properties['Number of CVD-associated Symptoms'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2"><strong>Number of CVD-comorbid Symptoms</strong><br />' + (feature.properties['Number of CVD-comorbid Symptoms'] !== null ? autolinker.link(feature.properties['Number of CVD-comorbid Symptoms'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            layer.bindPopup(popupContent, {maxHeight: 400});
        }

        function style_TotalRiskLevel_5_0(feature) {
            if (feature.properties['q2wHide_Total'] >= 11.000000 && feature.properties['q2wHide_Total'] <= 19.333333 ) {
                return {
                pane: 'pane_TotalRiskLevel_5',
                radius: 4.0,
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(255,255,178,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['q2wHide_Total'] >= 19.333333 && feature.properties['q2wHide_Total'] <= 27.666667 ) {
                return {
                pane: 'pane_TotalRiskLevel_5',
                radius: 4.0,
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(253,141,60,1.0)',
                interactive: true,
            }
            }
            if (feature.properties['q2wHide_Total'] >= 27.666667 && feature.properties['q2wHide_Total'] <= 36.000000 ) {
                return {
                pane: 'pane_TotalRiskLevel_5',
                radius: 4.0,
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(189,0,38,1.0)',
                interactive: true,
            }
            }
        }
        map.createPane('pane_TotalRiskLevel_5');
        map.getPane('pane_TotalRiskLevel_5').style.zIndex = 405;
        map.getPane('pane_TotalRiskLevel_5').style['mix-blend-mode'] = 'normal';
        var layer_TotalRiskLevel_5 = new L.geoJson(json_TotalRiskLevel_5, {
            attribution: '',
            interactive: true,
            dataVar: 'json_TotalRiskLevel_5',
            layerName: 'layer_TotalRiskLevel_5',
            pane: 'pane_TotalRiskLevel_5',
            onEachFeature: pop_TotalRiskLevel_5,
            pointToLayer: function (feature, latlng) {
                var context = {
                    feature: feature,
                    variables: {}
                };
                return L.circleMarker(latlng, style_TotalRiskLevel_5_0(feature));
            },
        });
        bounds_group.addLayer(layer_TotalRiskLevel_5);
        map.addLayer(layer_TotalRiskLevel_5);
        var baseMaps = {};
        L.control.layers(baseMaps,{'Total Risk Level<br /><table><tr><td style="text-align: center;"><img src="legend/TotalRiskLevel_5_Low0.png" /></td><td>Low</td></tr><tr><td style="text-align: center;"><img src="legend/TotalRiskLevel_5_Moderate1.png" /></td><td>Moderate</td></tr><tr><td style="text-align: center;"><img src="legend/TotalRiskLevel_5_High2.png" /></td><td>High</td></tr></table>': layer_TotalRiskLevel_5,'Risk Level by Geographical Location<br /><table><tr><td style="text-align: center;"><img src="legend/RiskLevelbyGeographicalLocation_4_Low0.png" /></td><td>Low</td></tr><tr><td style="text-align: center;"><img src="legend/RiskLevelbyGeographicalLocation_4_Moderate1.png" /></td><td>Moderate</td></tr><tr><td style="text-align: center;"><img src="legend/RiskLevelbyGeographicalLocation_4_High2.png" /></td><td>High</td></tr></table>': layer_RiskLevelbyGeographicalLocation_4,'<img src="legend/BarangayHealthUnit_3.png" /> Barangay Health Unit': layer_BarangayHealthUnit_3,'<img src="legend/TabangBorder_2.png" /> Tabang Border': layer_TabangBorder_2,"Tabang Area": layer_TabangArea_1,"OpenStreetMap": layer_OpenStreetMap_0,},{collapsed:false}).addTo(map);
        setBounds();
        var mapDiv = document.getElementById('map');
        var row = document.createElement('div');
        row.className="row";
        row.id="all";
        row.style.height = "100%";
        var col1 = document.createElement('div');
        col1.className="col9";
        col1.id = "mapWindow";
        col1.style.height = "99%";
        col1.style.width = "80%";
        col1.style.display = "inline-block";
        var col2 = document.createElement('div');
        col2.className="col3";
        col2.id = "menu";
        col2.style.display = "inline-block";
        mapDiv.parentNode.insertBefore(row, mapDiv);
        document.getElementById("all").appendChild(col1);
        document.getElementById("all").appendChild(col2);
        col1.appendChild(mapDiv)
        var Filters = {"Number of CVD-associated Symptoms": "int","Number of CVD-comorbid Symptoms": "int","Distance": "real","Sex": "str","Age": "str","Family History": "str","Physical Activity per week": "str","Considers diet as healthy": "str","Includes fruits and vegetables in regular diet": "str","Unhealthy food consumption per day": "str","Drinks alcohol": "str","Smokes Cigarettes": "str"};
        function filterFunc() {
          map.eachLayer(function(lyr){
          if ("options" in lyr && "dataVar" in lyr["options"]){
            features = this[lyr["options"]["dataVar"]].features.slice(0);
            try{
              for (key in Filters){
                keyS = key.replace(/[^a-zA-Z0-9_]/g, "")
                if (Filters[key] == "str" || Filters[key] == "bool"){
                  var selection = [];
                  var options = document.getElementById("sel_" + keyS).options
                  for (var i=0; i < options.length; i++) {
                    if (options[i].selected) selection.push(options[i].value);
                  }
                    try{
                      if (key in features[0].properties){
                        for (i = features.length - 1;
                          i >= 0; --i){
                          if (selection.indexOf(
                          features[i].properties[key])<0
                          && selection.length>0) {
                          features.splice(i,1);
                          }
                        }
                      }
                    } catch(err){
                  }
                }
                if (Filters[key] == "int"){
                  sliderVals =  document.getElementById(
                    "div_" + keyS).noUiSlider.get();
                  try{
                    if (key in features[0].properties){
                    for (i = features.length - 1; i >= 0; --i){
                      if (parseInt(features[i].properties[key])
                          < sliderVals[0]
                          || parseInt(features[i].properties[key])
                          > sliderVals[1]){
                            features.splice(i,1);
                          }
                        }
                      }
                    } catch(err){
                    }
                  }
                if (Filters[key] == "real"){
                  sliderVals =  document.getElementById(
                    "div_" + keyS).noUiSlider.get();
                  try{
                    if (key in features[0].properties){
                    for (i = features.length - 1; i >= 0; --i){
                      if (features[i].properties[key]
                          < sliderVals[0]
                          || features[i].properties[key]
                          > sliderVals[1]){
                            features.splice(i,1);
                          }
                        }
                      }
                    } catch(err){
                    }
                  }
                if (Filters[key] == "date"
                  || Filters[key] == "datetime"
                  || Filters[key] == "time"){
                  try{
                    if (key in features[0].properties){
                      HTMLkey = key.replace(/[&\/\\#,+()$~%.'":*?<>{} ]/g, '');
                      startdate = document.getElementById("dat_" +
                        HTMLkey + "_date1").value.replace(" ", "T");
                      enddate = document.getElementById("dat_" +
                        HTMLkey + "_date2").value.replace(" ", "T");
                      for (i = features.length - 1; i >= 0; --i){
                        if (features[i].properties[key] < startdate
                          || features[i].properties[key] > enddate){
                          features.splice(i,1);
                        }
                      }
                    }
                  } catch(err){
                  }
                }
              }
            } catch(err){
            }
          this[lyr["options"]["layerName"]].clearLayers();
          this[lyr["options"]["layerName"]].addData(features);
          }
          })
        }
            document.getElementById("menu").appendChild(
                document.createElement("div"));
            var div_NumberofCVDassociatedSymptoms = document.createElement("div");
            div_NumberofCVDassociatedSymptoms.id = "div_NumberofCVDassociatedSymptoms";
            div_NumberofCVDassociatedSymptoms.className = "slider";
            document.getElementById("menu").appendChild(div_NumberofCVDassociatedSymptoms);
            var lab_NumberofCVDassociatedSymptoms = document.createElement('div');
            lab_NumberofCVDassociatedSymptoms.innerHTML  = 'Number of CVD-associated Symptoms: <span id="val_NumberofCVDassociatedSymptoms"></span>';
            lab_NumberofCVDassociatedSymptoms.className = 'filterlabel';
            document.getElementById("menu").appendChild(lab_NumberofCVDassociatedSymptoms);
            var reset_NumberofCVDassociatedSymptoms = document.createElement('div');
            reset_NumberofCVDassociatedSymptoms.innerHTML = 'clear filter';
            reset_NumberofCVDassociatedSymptoms.className = 'filterlabel';
            lab_NumberofCVDassociatedSymptoms.className = 'filterlabel';
            reset_NumberofCVDassociatedSymptoms.onclick = function() {
                sel_NumberofCVDassociatedSymptoms.noUiSlider.reset();
            };
            document.getElementById("menu").appendChild(reset_NumberofCVDassociatedSymptoms);
            var sel_NumberofCVDassociatedSymptoms = document.getElementById('div_NumberofCVDassociatedSymptoms');
            noUiSlider.create(sel_NumberofCVDassociatedSymptoms, {
                connect: true,
                start: [0, 4],
                step: 1,
                format: wNumb({
                    decimals: 0,
                    }),
                range: {
                min: 0,
                max: 4
                }
            });
            sel_NumberofCVDassociatedSymptoms.noUiSlider.on('update', function (values) {
            filterVals =[];
            for (value in values){
            filterVals.push(parseInt(value))
            }
            val_NumberofCVDassociatedSymptoms = document.getElementById('val_NumberofCVDassociatedSymptoms');
            val_NumberofCVDassociatedSymptoms.innerHTML = values.join(' - ');
                filterFunc()
            });
            document.getElementById("menu").appendChild(
                document.createElement("div"));
            var div_NumberofCVDcomorbidSymptoms = document.createElement("div");
            div_NumberofCVDcomorbidSymptoms.id = "div_NumberofCVDcomorbidSymptoms";
            div_NumberofCVDcomorbidSymptoms.className = "slider";
            document.getElementById("menu").appendChild(div_NumberofCVDcomorbidSymptoms);
            var lab_NumberofCVDcomorbidSymptoms = document.createElement('div');
            lab_NumberofCVDcomorbidSymptoms.innerHTML  = 'Number of CVD-comorbid Symptoms: <span id="val_NumberofCVDcomorbidSymptoms"></span>';
            lab_NumberofCVDcomorbidSymptoms.className = 'filterlabel';
            document.getElementById("menu").appendChild(lab_NumberofCVDcomorbidSymptoms);
            var reset_NumberofCVDcomorbidSymptoms = document.createElement('div');
            reset_NumberofCVDcomorbidSymptoms.innerHTML = 'clear filter';
            reset_NumberofCVDcomorbidSymptoms.className = 'filterlabel';
            lab_NumberofCVDcomorbidSymptoms.className = 'filterlabel';
            reset_NumberofCVDcomorbidSymptoms.onclick = function() {
                sel_NumberofCVDcomorbidSymptoms.noUiSlider.reset();
            };
            document.getElementById("menu").appendChild(reset_NumberofCVDcomorbidSymptoms);
            var sel_NumberofCVDcomorbidSymptoms = document.getElementById('div_NumberofCVDcomorbidSymptoms');
            noUiSlider.create(sel_NumberofCVDcomorbidSymptoms, {
                connect: true,
                start: [0, 6],
                step: 1,
                format: wNumb({
                    decimals: 0,
                    }),
                range: {
                min: 0,
                max: 6
                }
            });
            sel_NumberofCVDcomorbidSymptoms.noUiSlider.on('update', function (values) {
            filterVals =[];
            for (value in values){
            filterVals.push(parseInt(value))
            }
            val_NumberofCVDcomorbidSymptoms = document.getElementById('val_NumberofCVDcomorbidSymptoms');
            val_NumberofCVDcomorbidSymptoms.innerHTML = values.join(' - ');
                filterFunc()
            });
            document.getElementById("menu").appendChild(
                document.createElement("div"));
            var div_Distance = document.createElement("div");
            div_Distance.id = "div_Distance";
            div_Distance.className = "slider";
            document.getElementById("menu").appendChild(div_Distance);
            var lab_Distance = document.createElement('div');
            lab_Distance.innerHTML  = 'Distance: <span id="val_Distance"></span>';
            lab_Distance.className = 'filterlabel';
            document.getElementById("menu").appendChild(lab_Distance);
            var reset_Distance = document.createElement('div');
            reset_Distance.innerHTML = 'clear filter';
            reset_Distance.className = 'filterlabel';
            lab_Distance.className = 'filterlabel';
            reset_Distance.onclick = function() {
                sel_Distance.noUiSlider.reset();
            };
            document.getElementById("menu").appendChild(reset_Distance);
            var sel_Distance = document.getElementById('div_Distance');
            noUiSlider.create(sel_Distance, {
                connect: true,
                start: [23.02609801, 993.8375196],
                range: {
                min: 23.02609801,
                max: 993.8375196
                }
            });
            sel_Distance.noUiSlider.on('update', function (values) {
            val_Distance = document.getElementById('val_Distance');
            val_Distance.innerHTML = values.join(' - ');
                filterFunc()
            });
            document.getElementById("menu").appendChild(
                document.createElement("div"));
            var div_Sex = document.createElement('div');
            div_Sex.id = "div_Sex";
            div_Sex.className= "filterselect";
            document.getElementById("menu").appendChild(div_Sex);
            sel_Sex = document.createElement('select');
            sel_Sex.multiple = true;
            sel_Sex.size = 2;
            sel_Sex.id = "sel_Sex";
            var Sex_options_str = "<option value='' unselected></option>";
            sel_Sex.onchange = function(){filterFunc()};
            Sex_options_str  += '<option value="F">F</option>';
            Sex_options_str  += '<option value="M">M</option>';
            sel_Sex.innerHTML = Sex_options_str;
            div_Sex.appendChild(sel_Sex);
            var lab_Sex = document.createElement('div');
            lab_Sex.innerHTML = 'Sex';
            lab_Sex.className = 'filterlabel';
            div_Sex.appendChild(lab_Sex);
            var reset_Sex = document.createElement('div');
            reset_Sex.innerHTML = 'clear filter';
            reset_Sex.className = 'filterlabel';
            reset_Sex.onclick = function() {
                var options = document.getElementById("sel_Sex").options;
                for (var i=0; i < options.length; i++) {
                    options[i].selected = false;
                }
                filterFunc();
            };
            div_Sex.appendChild(reset_Sex);
            document.getElementById("menu").appendChild(
                document.createElement("div"));
            var div_Age = document.createElement('div');
            div_Age.id = "div_Age";
            div_Age.className= "filterselect";
            document.getElementById("menu").appendChild(div_Age);
            sel_Age = document.createElement('select');
            sel_Age.multiple = true;
            sel_Age.size = 5;
            sel_Age.id = "sel_Age";
            var Age_options_str = "<option value='' unselected></option>";
            sel_Age.onchange = function(){filterFunc()};
            Age_options_str  += '<option value="40-45">40-45</option>';
            Age_options_str  += '<option value="46-50">46-50</option>';
            Age_options_str  += '<option value="51-55">51-55</option>';
            Age_options_str  += '<option value="56-60">56-60</option>';
            Age_options_str  += '<option value="61+">61+</option>';
            sel_Age.innerHTML = Age_options_str;
            div_Age.appendChild(sel_Age);
            var lab_Age = document.createElement('div');
            lab_Age.innerHTML = 'Age';
            lab_Age.className = 'filterlabel';
            div_Age.appendChild(lab_Age);
            var reset_Age = document.createElement('div');
            reset_Age.innerHTML = 'clear filter';
            reset_Age.className = 'filterlabel';
            reset_Age.onclick = function() {
                var options = document.getElementById("sel_Age").options;
                for (var i=0; i < options.length; i++) {
                    options[i].selected = false;
                }
                filterFunc();
            };
            div_Age.appendChild(reset_Age);
            document.getElementById("menu").appendChild(
                document.createElement("div"));
            var div_FamilyHistory = document.createElement('div');
            div_FamilyHistory.id = "div_FamilyHistory";
            div_FamilyHistory.className= "filterselect";
            document.getElementById("menu").appendChild(div_FamilyHistory);
            sel_FamilyHistory = document.createElement('select');
            sel_FamilyHistory.multiple = true;
            sel_FamilyHistory.size = 10;
            sel_FamilyHistory.id = "sel_FamilyHistory";
            var FamilyHistory_options_str = "<option value='' unselected></option>";
            sel_FamilyHistory.onchange = function(){filterFunc()};
            FamilyHistory_options_str  += '<option value="Arthritis">Arthritis</option>';
            FamilyHistory_options_str  += '<option value="Cardiovascular Disease Only">Cardiovascular Disease Only</option>';
            FamilyHistory_options_str  += '<option value="Diabetes Only">Diabetes Only</option>';
            FamilyHistory_options_str  += '<option value="Diabetes, Cardiovascular Disease">Diabetes, Cardiovascular Disease</option>';
            FamilyHistory_options_str  += '<option value="Hypertension">Hypertension</option>';
            FamilyHistory_options_str  += '<option value="Mental Disorder">Mental Disorder</option>';
            FamilyHistory_options_str  += '<option value="None">None</option>';
            FamilyHistory_options_str  += '<option value="Respiratory Disease Only">Respiratory Disease Only</option>';
            FamilyHistory_options_str  += '<option value="Respiratory Disease, Cardiovascular Disease">Respiratory Disease, Cardiovascular Disease</option>';
            FamilyHistory_options_str  += '<option value="Respiratory Disease, Diabetes">Respiratory Disease, Diabetes</option>';
            sel_FamilyHistory.innerHTML = FamilyHistory_options_str;
            div_FamilyHistory.appendChild(sel_FamilyHistory);
            var lab_FamilyHistory = document.createElement('div');
            lab_FamilyHistory.innerHTML = 'Family History';
            lab_FamilyHistory.className = 'filterlabel';
            div_FamilyHistory.appendChild(lab_FamilyHistory);
            var reset_FamilyHistory = document.createElement('div');
            reset_FamilyHistory.innerHTML = 'clear filter';
            reset_FamilyHistory.className = 'filterlabel';
            reset_FamilyHistory.onclick = function() {
                var options = document.getElementById("sel_FamilyHistory").options;
                for (var i=0; i < options.length; i++) {
                    options[i].selected = false;
                }
                filterFunc();
            };
            div_FamilyHistory.appendChild(reset_FamilyHistory);
            document.getElementById("menu").appendChild(
                document.createElement("div"));
            var div_PhysicalActivityperweek = document.createElement('div');
            div_PhysicalActivityperweek.id = "div_PhysicalActivityperweek";
            div_PhysicalActivityperweek.className= "filterselect";
            document.getElementById("menu").appendChild(div_PhysicalActivityperweek);
            sel_PhysicalActivityperweek = document.createElement('select');
            sel_PhysicalActivityperweek.multiple = true;
            sel_PhysicalActivityperweek.size = 3;
            sel_PhysicalActivityperweek.id = "sel_PhysicalActivityperweek";
            var PhysicalActivityperweek_options_str = "<option value='' unselected></option>";
            sel_PhysicalActivityperweek.onchange = function(){filterFunc()};
            PhysicalActivityperweek_options_str  += '<option value="2-4 times">2-4 times</option>';
            PhysicalActivityperweek_options_str  += '<option value="Almost never">Almost never</option>';
            PhysicalActivityperweek_options_str  += '<option value="Once">Once</option>';
            sel_PhysicalActivityperweek.innerHTML = PhysicalActivityperweek_options_str;
            div_PhysicalActivityperweek.appendChild(sel_PhysicalActivityperweek);
            var lab_PhysicalActivityperweek = document.createElement('div');
            lab_PhysicalActivityperweek.innerHTML = 'Physical Activity per week';
            lab_PhysicalActivityperweek.className = 'filterlabel';
            div_PhysicalActivityperweek.appendChild(lab_PhysicalActivityperweek);
            var reset_PhysicalActivityperweek = document.createElement('div');
            reset_PhysicalActivityperweek.innerHTML = 'clear filter';
            reset_PhysicalActivityperweek.className = 'filterlabel';
            reset_PhysicalActivityperweek.onclick = function() {
                var options = document.getElementById("sel_PhysicalActivityperweek").options;
                for (var i=0; i < options.length; i++) {
                    options[i].selected = false;
                }
                filterFunc();
            };
            div_PhysicalActivityperweek.appendChild(reset_PhysicalActivityperweek);
            document.getElementById("menu").appendChild(
                document.createElement("div"));
            var div_Considersdietashealthy = document.createElement('div');
            div_Considersdietashealthy.id = "div_Considersdietashealthy";
            div_Considersdietashealthy.className= "filterselect";
            document.getElementById("menu").appendChild(div_Considersdietashealthy);
            sel_Considersdietashealthy = document.createElement('select');
            sel_Considersdietashealthy.multiple = true;
            sel_Considersdietashealthy.size = 3;
            sel_Considersdietashealthy.id = "sel_Considersdietashealthy";
            var Considersdietashealthy_options_str = "<option value='' unselected></option>";
            sel_Considersdietashealthy.onchange = function(){filterFunc()};
            Considersdietashealthy_options_str  += '<option value="No">No</option>';
            Considersdietashealthy_options_str  += '<option value="Not sure">Not sure</option>';
            Considersdietashealthy_options_str  += '<option value="Yes">Yes</option>';
            sel_Considersdietashealthy.innerHTML = Considersdietashealthy_options_str;
            div_Considersdietashealthy.appendChild(sel_Considersdietashealthy);
            var lab_Considersdietashealthy = document.createElement('div');
            lab_Considersdietashealthy.innerHTML = 'Considers diet as healthy';
            lab_Considersdietashealthy.className = 'filterlabel';
            div_Considersdietashealthy.appendChild(lab_Considersdietashealthy);
            var reset_Considersdietashealthy = document.createElement('div');
            reset_Considersdietashealthy.innerHTML = 'clear filter';
            reset_Considersdietashealthy.className = 'filterlabel';
            reset_Considersdietashealthy.onclick = function() {
                var options = document.getElementById("sel_Considersdietashealthy").options;
                for (var i=0; i < options.length; i++) {
                    options[i].selected = false;
                }
                filterFunc();
            };
            div_Considersdietashealthy.appendChild(reset_Considersdietashealthy);
            document.getElementById("menu").appendChild(
                document.createElement("div"));
            var div_Includesfruitsandvegetablesinregulardiet = document.createElement('div');
            div_Includesfruitsandvegetablesinregulardiet.id = "div_Includesfruitsandvegetablesinregulardiet";
            div_Includesfruitsandvegetablesinregulardiet.className= "filterselect";
            document.getElementById("menu").appendChild(div_Includesfruitsandvegetablesinregulardiet);
            sel_Includesfruitsandvegetablesinregulardiet = document.createElement('select');
            sel_Includesfruitsandvegetablesinregulardiet.multiple = true;
            sel_Includesfruitsandvegetablesinregulardiet.size = 2;
            sel_Includesfruitsandvegetablesinregulardiet.id = "sel_Includesfruitsandvegetablesinregulardiet";
            var Includesfruitsandvegetablesinregulardiet_options_str = "<option value='' unselected></option>";
            sel_Includesfruitsandvegetablesinregulardiet.onchange = function(){filterFunc()};
            Includesfruitsandvegetablesinregulardiet_options_str  += '<option value="No">No</option>';
            Includesfruitsandvegetablesinregulardiet_options_str  += '<option value="Yes">Yes</option>';
            sel_Includesfruitsandvegetablesinregulardiet.innerHTML = Includesfruitsandvegetablesinregulardiet_options_str;
            div_Includesfruitsandvegetablesinregulardiet.appendChild(sel_Includesfruitsandvegetablesinregulardiet);
            var lab_Includesfruitsandvegetablesinregulardiet = document.createElement('div');
            lab_Includesfruitsandvegetablesinregulardiet.innerHTML = 'Includes fruits and vegetables in regular diet';
            lab_Includesfruitsandvegetablesinregulardiet.className = 'filterlabel';
            div_Includesfruitsandvegetablesinregulardiet.appendChild(lab_Includesfruitsandvegetablesinregulardiet);
            var reset_Includesfruitsandvegetablesinregulardiet = document.createElement('div');
            reset_Includesfruitsandvegetablesinregulardiet.innerHTML = 'clear filter';
            reset_Includesfruitsandvegetablesinregulardiet.className = 'filterlabel';
            reset_Includesfruitsandvegetablesinregulardiet.onclick = function() {
                var options = document.getElementById("sel_Includesfruitsandvegetablesinregulardiet").options;
                for (var i=0; i < options.length; i++) {
                    options[i].selected = false;
                }
                filterFunc();
            };
            div_Includesfruitsandvegetablesinregulardiet.appendChild(reset_Includesfruitsandvegetablesinregulardiet);
            document.getElementById("menu").appendChild(
                document.createElement("div"));
            var div_Unhealthyfoodconsumptionperday = document.createElement('div');
            div_Unhealthyfoodconsumptionperday.id = "div_Unhealthyfoodconsumptionperday";
            div_Unhealthyfoodconsumptionperday.className= "filterselect";
            document.getElementById("menu").appendChild(div_Unhealthyfoodconsumptionperday);
            sel_Unhealthyfoodconsumptionperday = document.createElement('select');
            sel_Unhealthyfoodconsumptionperday.multiple = true;
            sel_Unhealthyfoodconsumptionperday.size = 3;
            sel_Unhealthyfoodconsumptionperday.id = "sel_Unhealthyfoodconsumptionperday";
            var Unhealthyfoodconsumptionperday_options_str = "<option value='' unselected></option>";
            sel_Unhealthyfoodconsumptionperday.onchange = function(){filterFunc()};
            Unhealthyfoodconsumptionperday_options_str  += '<option value="0">0</option>';
            Unhealthyfoodconsumptionperday_options_str  += '<option value="1-2">1-2</option>';
            Unhealthyfoodconsumptionperday_options_str  += '<option value="3-4">3-4</option>';
            sel_Unhealthyfoodconsumptionperday.innerHTML = Unhealthyfoodconsumptionperday_options_str;
            div_Unhealthyfoodconsumptionperday.appendChild(sel_Unhealthyfoodconsumptionperday);
            var lab_Unhealthyfoodconsumptionperday = document.createElement('div');
            lab_Unhealthyfoodconsumptionperday.innerHTML = 'Unhealthy food consumption per day';
            lab_Unhealthyfoodconsumptionperday.className = 'filterlabel';
            div_Unhealthyfoodconsumptionperday.appendChild(lab_Unhealthyfoodconsumptionperday);
            var reset_Unhealthyfoodconsumptionperday = document.createElement('div');
            reset_Unhealthyfoodconsumptionperday.innerHTML = 'clear filter';
            reset_Unhealthyfoodconsumptionperday.className = 'filterlabel';
            reset_Unhealthyfoodconsumptionperday.onclick = function() {
                var options = document.getElementById("sel_Unhealthyfoodconsumptionperday").options;
                for (var i=0; i < options.length; i++) {
                    options[i].selected = false;
                }
                filterFunc();
            };
            div_Unhealthyfoodconsumptionperday.appendChild(reset_Unhealthyfoodconsumptionperday);
            document.getElementById("menu").appendChild(
                document.createElement("div"));
            var div_Drinksalcohol = document.createElement('div');
            div_Drinksalcohol.id = "div_Drinksalcohol";
            div_Drinksalcohol.className= "filterselect";
            document.getElementById("menu").appendChild(div_Drinksalcohol);
            sel_Drinksalcohol = document.createElement('select');
            sel_Drinksalcohol.multiple = true;
            sel_Drinksalcohol.size = 3;
            sel_Drinksalcohol.id = "sel_Drinksalcohol";
            var Drinksalcohol_options_str = "<option value='' unselected></option>";
            sel_Drinksalcohol.onchange = function(){filterFunc()};
            Drinksalcohol_options_str  += '<option value="Frequently">Frequently</option>';
            Drinksalcohol_options_str  += '<option value="No">No</option>';
            Drinksalcohol_options_str  += '<option value="Socially">Socially</option>';
            sel_Drinksalcohol.innerHTML = Drinksalcohol_options_str;
            div_Drinksalcohol.appendChild(sel_Drinksalcohol);
            var lab_Drinksalcohol = document.createElement('div');
            lab_Drinksalcohol.innerHTML = 'Drinks alcohol';
            lab_Drinksalcohol.className = 'filterlabel';
            div_Drinksalcohol.appendChild(lab_Drinksalcohol);
            var reset_Drinksalcohol = document.createElement('div');
            reset_Drinksalcohol.innerHTML = 'clear filter';
            reset_Drinksalcohol.className = 'filterlabel';
            reset_Drinksalcohol.onclick = function() {
                var options = document.getElementById("sel_Drinksalcohol").options;
                for (var i=0; i < options.length; i++) {
                    options[i].selected = false;
                }
                filterFunc();
            };
            div_Drinksalcohol.appendChild(reset_Drinksalcohol);
            document.getElementById("menu").appendChild(
                document.createElement("div"));
            var div_SmokesCigarettes = document.createElement('div');
            div_SmokesCigarettes.id = "div_SmokesCigarettes";
            div_SmokesCigarettes.className= "filterselect";
            document.getElementById("menu").appendChild(div_SmokesCigarettes);
            sel_SmokesCigarettes = document.createElement('select');
            sel_SmokesCigarettes.multiple = true;
            sel_SmokesCigarettes.size = 3;
            sel_SmokesCigarettes.id = "sel_SmokesCigarettes";
            var SmokesCigarettes_options_str = "<option value='' unselected></option>";
            sel_SmokesCigarettes.onchange = function(){filterFunc()};
            SmokesCigarettes_options_str  += '<option value="No">No</option>';
            SmokesCigarettes_options_str  += '<option value="Often/Regularly">Often/Regularly</option>';
            SmokesCigarettes_options_str  += '<option value="Sometimes">Sometimes</option>';
            sel_SmokesCigarettes.innerHTML = SmokesCigarettes_options_str;
            div_SmokesCigarettes.appendChild(sel_SmokesCigarettes);
            var lab_SmokesCigarettes = document.createElement('div');
            lab_SmokesCigarettes.innerHTML = 'Smokes Cigarettes';
            lab_SmokesCigarettes.className = 'filterlabel';
            div_SmokesCigarettes.appendChild(lab_SmokesCigarettes);
            var reset_SmokesCigarettes = document.createElement('div');
            reset_SmokesCigarettes.innerHTML = 'clear filter';
            reset_SmokesCigarettes.className = 'filterlabel';
            reset_SmokesCigarettes.onclick = function() {
                var options = document.getElementById("sel_SmokesCigarettes").options;
                for (var i=0; i < options.length; i++) {
                    options[i].selected = false;
                }
                filterFunc();
            };
            div_SmokesCigarettes.appendChild(reset_SmokesCigarettes);
        L.ImageOverlay.include({
            getBounds: function () {
                return this._bounds;
            }
        });
        </script>
    </body>
</html>
